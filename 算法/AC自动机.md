# AC自动机

如何实现一个高性能的敏感词过滤系统？

可以使用字典树，首先对敏感词进行预处理，构建成字典树的结构。这个预处理只需要做一次就可以，如果敏感词更新了，只需要动态更新一下字典树就可以了。

当用户输入文本时，我们从子一个字符开始匹配，当匹配到字典树的叶子节点，或者中途遇到不匹配字符串的时候，我们将主串的匹配位置后移一位，重新在字典树中查找。

改进：类似 KMP 算法对 BF 算法的改进，引入 next 数组，在匹配失败时，尽可能让模式串多滑动几位。



### AC 自动机算法，全称 Aho-Corasick 算法

AC自动机的构建，包含两个操作：

1. 将多个模式串构建成字典树
2. 在字典树上构建失败指针（相当于KMP中的失效函数 next 数组）

