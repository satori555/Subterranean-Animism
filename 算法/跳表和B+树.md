# 跳表（skip list）

二分查找只能用数组来实现，对于链表，我们只需要稍加改造，就可以支持类似“二分”的查找算法。我们把改造之后的数据结构叫作跳表（Skip list）。

Redis的种的有序集合（sorted set）就是用跳表来实现的。

链表每两个节点提取一个节点到上一级，抽出来的一级叫做索引，每增加一级索引节点数减少一半。这种链表加多级索引的结构，就是跳表。

### 时间复杂度

查找时从最高级索引层向下查找，时间复杂度为 $O(m\log n)$ ，由于每一级索引最多只需要遍历三个节点，所以 $m=3$ ，因此时间复杂度为 $O(\log n)$ 。

### 空间复杂度

第一级索引有 n/2 个节点，第二级有 n/4 个节点，一直到 最后一级 2 个节点，加起来一共是 n-2 。所以跳表的空间复杂度是 $O(n)$ 。

索引只需要存储关键值和几个指针，当对象比索引节点大很多时，索引占用的额外空间就可以忽略了。

### 索引动态更新

当我们往跳表中插入数据时，我们可以选择同时将这个数据插入到部分索引层中。通过一个随机函数，来决定将这个节点插入到哪几级索引层中。

### python实现跳表

参考：

[1] 跳表(skiplist)Python实现 - 四班&吴迪 - 博客园
https://www.cnblogs.com/wuditju/p/5995957.html

# B+树

MySQL数据库索引使用的数据结构是B+树。

B+树中的节点保存索引，叶子节点保存的是数据，用链表链接，可以实现按区间查找。

B+树是B树的改进版，B树是一个每个节点的子节点个数不能小于2的m叉树